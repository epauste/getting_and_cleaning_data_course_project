---
title: "codebook"
author: "Paul Stewart"
date: "March 20, 2016"
output: html_document
---

# Codebook Description

The experiments have been carried out with a group of 30 volunteers within an age bracket of 19-48 years. 
Each person performed six activities (WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, LAYING) wearing 
a smartphone (Samsung Galaxy S II) on the waist. 

Using its embedded accelerometer and gyroscope, we captured 3-axial linear acceleration and 3-axial angular velocity at
a constant rate of 50Hz. 

The experiments have been video-recorded to label the data manually. 
The obtained dataset has been randomly partitioned into two sets, where 70% of the volunteers was selected for generating
the training data and 30% the test data. 

The sensor signals (accelerometer and gyroscope) were pre-processed by applying noise filters and then sampled in fixed-
width sliding windows of 2.56 sec and 50% overlap (128 readings/window). 

The sensor acceleration signal, which has gravitational and body motion components, was separated using a Butterworth 
low-pass filter into body acceleration and gravity. 

The gravitational force is assumed to have only low frequency components, therefore a filter with 0.3 Hz cutoff frequency was used. 

From each window, a vector of features was obtained by calculating variables from the time and frequency domain. 

Further information on the features of the datasets can be obtained from the 'features_info.txt' file referenced below. 

For each record it is provided:

      Triaxial acceleration from the accelerometer (total acceleration) and the estimated body acceleration.
      Triaxial Angular velocity from the gyroscope.
      A 561-feature vector with time and frequency domain variables.
      Its activity label.
      An identifier of the subject who carried out the experiment.


# Data Sources
      Original Datasets ( downloaded automatically with analyse_run.R )
      https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip 
      
      Additional Informnation on the Experiment
      http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones 



# File Descriptions 

The dataset includes the following files when unpacked by analyse_run.R in the ./data directory:
Note: These are the original datasets and description files which analyse_run.R will worko on\.

	'README.txt'
	
	'features_info.txt': Shows information about the variables used on the feature vector.
	
	'features.txt': List of all features.
	
	'activity_labels.txt': Links the class labels with their activity name.
	
	'train/X_train.txt': Training set.
	
	'train/y_train.txt': Training labels.
	
	'test/X_test.txt': Test set.
	
	'test/y_test.txt': Test labels.

The following files are available for the train and test data. Their descriptions are equivalent.

	'train/subject_train.txt': 
		Each row identifies the subject who performed the activity for each window sample. 
		Its range is from 1 to 30.
	
	'train/Inertial Signals/total_acc_x_train.txt': 
		The acceleration signal from the smartphone accelerometer X axis in standard gravity
		units 'g'. 
		Every row shows a 128 element vector. 
		The same description applies for the 'total_acc_x_train.txt' and 'total_acc_z_train.txt' 
		files for the Y and Z axis.
	
	'train/Inertial Signals/body_acc_x_train.txt': 
		The body acceleration signal obtained by subtracting the gravity from the total acceleration.
	
	'train/Inertial Signals/body_gyro_x_train.txt': 
		The angular velocity vector measured by the gyroscope for each window sample. 
		The units are radians/second.
		
# Transformations 
      Merges the training and the test sets to create one data set.
      Extracts only the measurements on the mean and standard deviation for each measurement.
      Uses descriptive activity names to name the activities in the data set
      Appropriately labels the data set with descriptive variable names.
      From the data set in step 4, creates a second, independent tidy data set with the average
      of each variable for each activity and each subject.


# Execution Steps in analyse_run.R

The primary step to follow is to execute run_analysis.R
When this is executed the following events will occur

      1:  Current working directory will be used as the base directory
      2:  A data directory will be created if it does not already exist
      3:  Zip archive https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip 
          will be downloaded if this does not exist
      4:  Zip archives contents wil be extacted in the data directory. 
          This will created the following structure ( note only files used in this project mentioned below )
             ./data/
                   UCI HAR Dataset/
                         activity_labels.txt
                         features.txt  
                         features_info.txt  
                         README.txt
                         test/
                               subject_test.txt  
                               X_test.txt  
                               y_test.txt
                         train/
                               subject_train.txt  
                               X_train.txt  
                               y_train.txt
          For explanation of files, see the codebook.md file
      5:  load following files into tables ( activity_labels.txt, features.txt, subject_test.txt, X_test.txt,
          y_test.txt, subject_train.txt, X_train.txt, y_train.txt )
      6:  Create / Add descriptive names for above table columns
      7:  create new table (testing_ds)  from binding columns of subject_test.txt, X_test.txt, y_test.txt
      8:  create new table (training_ds) from binding columns of subject_train.txt, X_train.txt, y_train.txt
      9:  create new table (merged_ds) from binding rows of training_ds and testing_ds
      10: set descriptive factor levels for activity column
      11: subset dataset to contain activity, subject_id, and all columns that reference mean or std in 
          column name
      12: group subset by activity and subject_id, and take average across included variables 
      13: output dataset tidy_ds as tidy_ds.txt as a csv file in the current working directory
      


		
# analyse_run.R Output Description 

When executed, analyse_run.R will produce a tidy table ( tidy_ds ) which contains the following named columns
Note: Each measurement variable is the average for each activity and each subject.

	> str(tidy_ds)
	Classes 'grouped_df', 'tbl_df', 'tbl' and 'data.frame':	180 obs. of  88 variables:
	activity                            : Factor w/ 6 levels "WALKING","WALKING_UPSTAIRS",..: 1 1 1 1 1 1 1 1 1 1 ...
	subject_id                          : int  1 2 3 4 5 6 7 8 9 10 ...
	tBodyAcc-mean()-X                   : num  0.277 0.276 0.276 0.279 0.278 ...
	tBodyAcc-mean()-Y                   : num  -0.0174 -0.0186 -0.0172 -0.0148 -0.0173 ...
	tBodyAcc-mean()-Z                   : num  -0.111 -0.106 -0.113 -0.111 -0.108 ...
	tGravityAcc-mean()-X                : num  0.935 0.913 0.937 0.964 0.973 ...
	tGravityAcc-mean()-Y                : num  -0.2822 -0.3466 -0.262 -0.0859 -0.1004 ...
	tGravityAcc-mean()-Z                : num  -0.0681 0.08473 -0.13811 0.12776 0.00248 ...
	tBodyAccJerk-mean()-X               : num  0.074 0.0618 0.0815 0.0784 0.0846 ...
	tBodyAccJerk-mean()-Y               : num  0.02827 0.01825 0.01006 0.00296 -0.01632 ...
	tBodyAccJerk-mean()-Z               : num  -4.17e-03 7.90e-03 -5.62e-03 -7.68e-04 8.32e-05 ...
	tBodyGyro-mean()-X                  : num  -0.0418 -0.053 -0.0256 -0.0318 -0.0489 ...
	tBodyGyro-mean()-Y                  : num  -0.0695 -0.0482 -0.0779 -0.0727 -0.069 ...
	tBodyGyro-mean()-Z                  : num  0.0849 0.0828 0.0813 0.0806 0.0815 ...
	tBodyGyroJerk-mean()-X              : num  -0.09 -0.0819 -0.0952 -0.1153 -0.0888 ...
	tBodyGyroJerk-mean()-Y              : num  -0.0398 -0.0538 -0.0388 -0.0393 -0.045 ...
	tBodyGyroJerk-mean()-Z              : num  -0.0461 -0.0515 -0.0504 -0.0551 -0.0483 ...
	tBodyAccMag-mean()                  : num  -0.137 -0.29 -0.255 -0.312 -0.158 ...
	tGravityAccMag-mean()               : num  -0.137 -0.29 -0.255 -0.312 -0.158 ...
	tBodyAccJerkMag-mean()              : num  -0.141 -0.281 -0.28 -0.367 -0.288 ...
	tBodyGyroMag-mean()                 : num  -0.161 -0.447 -0.466 -0.498 -0.356 ...
	tBodyGyroJerkMag-mean()             : num  -0.299 -0.548 -0.566 -0.681 -0.445 ...
	fBodyAcc-mean()-X                   : num  -0.203 -0.346 -0.317 -0.427 -0.288 ...
	fBodyAcc-mean()-Y                   : num  0.08971 -0.0219 -0.0813 -0.1494 0.00946 ...
	fBodyAcc-mean()-Z                   : num  -0.332 -0.454 -0.412 -0.631 -0.49 ...
	fBodyAcc-meanFreq()-X               : num  -0.208 -0.146 -0.247 -0.139 -0.322 ...
	fBodyAcc-meanFreq()-Y               : num  0.11309 0.19859 0.17174 0.01235 -0.00204 ...
	fBodyAcc-meanFreq()-Z               : num  0.0497 0.0689 0.0749 -0.0788 0.0247 ...
	fBodyAccJerk-mean()-X               : num  -0.171 -0.305 -0.305 -0.359 -0.345 ...
	fBodyAccJerk-mean()-Y               : num  -0.0352 -0.0788 -0.1405 -0.2796 -0.1811 ...
	fBodyAccJerk-mean()-Z               : num  -0.469 -0.555 -0.514 -0.729 -0.59 ...
	fBodyAccJerk-meanFreq()-X           : num  -0.2093 -0.0727 -0.216 -0.1353 -0.3594 ...
	fBodyAccJerk-meanFreq()-Y           : num  -0.386 -0.264 -0.259 -0.386 -0.534 ...
	fBodyAccJerk-meanFreq()-Z           : num  -0.186 -0.255 -0.347 -0.326 -0.344 ...
	fBodyGyro-mean()-X                  : num  -0.339 -0.43 -0.438 -0.373 -0.373 ...
	fBodyGyro-mean()-Y                  : num  -0.103 -0.555 -0.562 -0.688 -0.514 ...
	fBodyGyro-mean()-Z                  : num  -0.256 -0.397 -0.418 -0.601 -0.213 ...
	fBodyGyro-meanFreq()-X              : num  0.01478 0.00728 0.03376 -0.12715 -0.04586 ...
	fBodyGyro-meanFreq()-Y              : num  -0.0658 -0.0427 -0.038 -0.2747 -0.0192 ...
	fBodyGyro-meanFreq()-Z              : num  0.000773 0.139752 -0.044508 0.149852 0.167458 ...
	fBodyAccMag-mean()                  : num  -0.129 -0.324 -0.29 -0.451 -0.305 ...
	fBodyAccMag-meanFreq()              : num  0.191 0.393 0.113 0.382 0.15 ...
	fBodyBodyAccJerkMag-mean()          : num  -0.0571 -0.1691 -0.1868 -0.3186 -0.2695 ...
	fBodyBodyAccJerkMag-meanFreq()      : num  0.09382 0.2075 -0.11716 0.11149 -0.00497 ...
	fBodyBodyGyroMag-mean()             : num  -0.199 -0.531 -0.57 -0.609 -0.484 ...
	fBodyBodyGyroMag-meanFreq()         : num  0.2688 0.3053 0.1809 0.0697 0.2506 ...
	fBodyBodyGyroJerkMag-mean()         : num  -0.319 -0.583 -0.608 -0.724 -0.548 ...
	fBodyBodyGyroJerkMag-meanFreq()     : num  0.1907 0.1263 0.0458 0.2654 0.0527 ...
	angle(tBodyAccMean,gravity)         : num  0.0605 -0.0301 0.0528 -0.012 -0.0323 ...
	angle(tBodyAccJerkMean),gravityMean): num  -0.00793 0.053401 -0.076302 0.000921 -0.011722 ...
	angle(tBodyGyroMean,gravityMean)    : num  0.0131 0.0216 0.0968 0.0178 0.0237 ...
	angle(tBodyGyroJerkMean,gravityMean): num  -0.0187 -0.0858 -0.0367 0.0554 -0.0349 ...
	angle(X,gravityMean)                : num  -0.729 -0.662 -0.723 -0.865 -0.917 ...
	angle(Y,gravityMean)                : num  0.277 0.321 0.262 0.143 0.152 ...
	angle(Z,gravityMean)                : num  0.0689 -0.0369 0.1174 -0.0675 0.02 ...
	tBodyAcc-std()-X                    : num  -0.284 -0.424 -0.36 -0.441 -0.294 ...
	tBodyAcc-std()-Y                    : num  0.1145 -0.0781 -0.0699 -0.0788 0.0767 ...
	tBodyAcc-std()-Z                    : num  -0.26 -0.425 -0.387 -0.586 -0.457 ...
	tGravityAcc-std()-X                 : num  -0.977 -0.973 -0.978 -0.984 -0.979 ...
	tGravityAcc-std()-Y                 : num  -0.971 -0.972 -0.962 -0.968 -0.962 ...
	tGravityAcc-std()-Z                 : num  -0.948 -0.972 -0.952 -0.963 -0.965 ...
	tBodyAccJerk-std()-X                : num  -0.114 -0.278 -0.269 -0.297 -0.303 ...
	tBodyAccJerk-std()-Y                : num  0.067 -0.0166 -0.045 -0.2212 -0.091 ...
	tBodyAccJerk-std()-Z                : num  -0.503 -0.586 -0.529 -0.751 -0.613 ...
	tBodyGyro-std()-X                   : num  -0.474 -0.562 -0.572 -0.501 -0.491 ...
	tBodyGyro-std()-Y                   : num  -0.0546 -0.5385 -0.5638 -0.6654 -0.5046 ...
	tBodyGyro-std()-Z                   : num  -0.344 -0.481 -0.477 -0.663 -0.319 ...
	tBodyGyroJerk-std()-X               : num  -0.207 -0.39 -0.386 -0.492 -0.358 ...
	tBodyGyroJerk-std()-Y               : num  -0.304 -0.634 -0.639 -0.807 -0.571 ...
	tBodyGyroJerk-std()-Z               : num  -0.404 -0.435 -0.537 -0.64 -0.158 ...
	tBodyAccMag-std()                   : num  -0.22 -0.423 -0.328 -0.528 -0.377 ...
	tGravityAccMag-std()                : num  -0.22 -0.423 -0.328 -0.528 -0.377 ...
	tBodyAccJerkMag-std()               : num  -0.0745 -0.1642 -0.1399 -0.3169 -0.2822 ...
	tBodyGyroMag-std()                  : num  -0.187 -0.553 -0.562 -0.553 -0.492 ...
	tBodyGyroJerkMag-std()              : num  -0.325 -0.558 -0.567 -0.73 -0.489 ...
	fBodyAcc-std()-X                    : num  -0.319 -0.458 -0.379 -0.447 -0.298 ...
	fBodyAcc-std()-Y                    : num  0.056 -0.1692 -0.124 -0.1018 0.0426 ...
	fBodyAcc-std()-Z                    : num  -0.28 -0.455 -0.423 -0.594 -0.483 ...
	fBodyAccJerk-std()-X                : num  -0.134 -0.314 -0.297 -0.297 -0.321 ...
	fBodyAccJerk-std()-Y                : num  0.10674 -0.01533 -0.00561 -0.2099 -0.05452 ...
	fBodyAccJerk-std()-Z                : num  -0.535 -0.616 -0.544 -0.772 -0.633 ...
	fBodyGyro-std()-X                   : num  -0.517 -0.604 -0.615 -0.543 -0.529 ...
	fBodyGyro-std()-Y                   : num  -0.0335 -0.533 -0.5689 -0.6547 -0.5027 ...
	fBodyGyro-std()-Z                   : num  -0.437 -0.56 -0.546 -0.716 -0.42 ...
	fBodyAccMag-std()                   : num  -0.398 -0.577 -0.456 -0.651 -0.52 ...
	fBodyBodyAccJerkMag-std()           : num  -0.1035 -0.1641 -0.0899 -0.3205 -0.3057 ...
	fBodyBodyGyroMag-std()              : num  -0.321 -0.652 -0.633 -0.594 -0.59 ...
	fBodyBodyGyroJerkMag-std()          : num  -0.382 -0.558 -0.549 -0.758 -0.456 ...


